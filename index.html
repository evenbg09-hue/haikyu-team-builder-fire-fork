<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Haikyu!! Fly High - Team Builder</title>
    <style>
        body {
            background-color: #222;
            color: white;
            font-family: Arial, sans-serif;
            text-align: center;
        }
        h1 {
            margin-bottom: 30px;
        }
        .team-grid {
            display: grid;
            grid-template-columns: repeat(4, 150px);
            gap: 20px;
            justify-content: center;
        }
        .slot {
            display: flex;
            flex-direction: column;
            align-items: center;
            cursor: pointer;
        }
        .position {
            font-weight: bold;
            margin-bottom: 5px;
        }
        .hexagon {
            width: 100px;
            height: 55px;
            background-color: #444;
            position: relative;
        }
        .hexagon:before,
        .hexagon:after {
            content: "";
            position: absolute;
            width: 0;
            border-left: 50px solid transparent;
            border-right: 50px solid transparent;
        }
        .hexagon:before {
            bottom: 100%;
            border-bottom: 27.5px solid #444;
        }
        .hexagon:after {
            top: 100%;
            border-top: 27.5px solid #444;
        }
        .name {
            font-weight: bold;
            margin-top: 5px;
        }
        .synergy {
            margin-top: 30px;
            padding: 10px;
            background-color: #333;
            display: none;
        }
    </style>
</head>
<body>
    <h1>Haikyu!! Fly High - Team Builder</h1>
    <div class="team-grid" id="team">
        <div class="slot" data-position="S"><div class="position">S</div><div class="hexagon"></div><div class="name">NOME</div></div>
        <div class="slot" data-position="MB"><div class="position">MB</div><div class="hexagon"></div><div class="name">NOME</div></div>
        <div class="slot" data-position="WS"><div class="position">WS</div><div class="hexagon"></div><div class="name">NOME</div></div>
        <div class="slot" data-position="OP"><div class="position">OP</div><div class="hexagon"></div><div class="name">NOME</div></div>

        <div class="slot" data-position="L"><div class="position">L</div><div class="hexagon"></div><div class="name">NOME</div></div>
        <div class="slot" data-position="MB"><div class="position">MB</div><div class="hexagon"></div><div class="name">NOME</div></div>
        <div class="slot" data-position="WS"><div class="position">WS</div><div class="hexagon"></div><div class="name">NOME</div></div>
        <div class="slot" data-position=""><div class="position"></div><div class="hexagon"></div><div class="name"></div></div>
    </div>

    <div id="synergy" class="synergy"></div>

    <script>
        const slots = document.querySelectorAll('.slot');
        const synergyBox = document.getElementById('synergy');

        // Lista de personagens com suas escolas
        const characters = [
            { name: "Hinata", school: "Karasuno" },
            { name: "Kageyama", school: "Karasuno" },
            { name: "Tsukishima", school: "Karasuno" },
            { name: "Nishinoya", school: "Karasuno" },
            { name: "Oikawa", school: "Aoba Johsai" },
            { name: "Iwaizumi", school: "Aoba Johsai" },
            { name: "Kuroo", school: "Nekoma" },
            { name: "Kenma", school: "Nekoma" }
        ];

        // Lista de sinergias de vínculo (pares)
        const bondSynergies = [
            { players: ["Hinata", "Kageyama"], text: "Sinergia de Rivalidade Amigável" },
            { players: ["Kuroo", "Kenma"], text: "Sinergia de Amizade de Infância" }
        ];

        slots.forEach(slot => {
            slot.addEventListener('click', () => {
                const char = characters[Math.floor(Math.random() * characters.length)];
                slot.querySelector('.name').textContent = char.name;
                slot.dataset.school = char.school;
                slot.dataset.player = char.name;
                checkSynergies();
            });
        });

        function checkSynergies() {
            const selectedPlayers = Array.from(slots).map(s => s.dataset.player).filter(Boolean);
            const schoolCount = {};
            synergyBox.innerHTML = "";

            // Contagem de personagens por escola
            selectedPlayers.forEach(player => {
                const school = slots.find(s => s.dataset.player === player)?.dataset.school;
                if (school) {
                    schoolCount[school] = (schoolCount[school] || 0) + 1;
                }
            });

            // Sinergia de Escola (4+ da mesma)
            for (const school in schoolCount) {
                if (schoolCount[school] >= 4) {
                    synergyBox.innerHTML += `<p>Sinergia de Escola: ${school}</p>`;
                }
            }

            // Sinergia de Vínculo (pares específicos)
            bondSynergies.forEach(bond => {
                if (bond.players.every(p => selectedPlayers.includes(p))) {
                    synergyBox.innerHTML += `<p>${bond.text}</p>`;
                }
            });

            synergyBox.style.display = synergyBox.innerHTML ? 'block' : 'none';
        }
    </script>
</body>
</html>

